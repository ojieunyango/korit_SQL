좋아! SQL을 처음 배우는 사람에게 **PK(Primary Key)**, **FK(Foreign Key)**, 그리고 **정규화(Normalization)**의 개념을 서로 연결 지어 쉽게 이해할 수 있도록 설명해볼게. 초심자의 관점에서 최대한 일상적인 예시와 함께 설명하되, 실무에서 실제로 어떻게 사용되는지도 자연스럽게 연결해볼게.

---

## 💡 관계형 데이터베이스(Relational Database)란?

SQL은 관계형 데이터베이스에서 데이터를 다루는 언어야. 관계형 데이터베이스는 **여러 개의 테이블로 데이터를 나눠서 저장**하고, 이 테이블들이 서로 **관계(Relation)**를 맺는 구조를 가지고 있어.

그런데 왜 여러 개의 테이블로 나눌까?

바로 **중복을 줄이고, 데이터의 일관성을 유지하기 위해서야.**  
여기서 등장하는 개념이 바로 **PK, FK, 정규화**야.

---

## 🧱 1. PK (Primary Key, 기본 키)

**PK는 테이블에서 각 행(row)을 유일하게 식별하는 열(column)**이야.

### ✅ 예를 들어볼게

```sql
학생 테이블(Student)
-----------------------
| 학번(StudentID) | 이름(Name) |
|----------------|-----------|
| 1001           | 철수       |
| 1002           | 영희       |
| 1003           | 민수       |
```

이 테이블에서 `학번(StudentID)`은 각 학생을 유일하게 구분할 수 있어. 이름은 중복될 수 있지만 학번은 절대 중복될 수 없어. 이럴 때 **학번(StudentID)**이 **PK**가 되는 거야.

### 📌 PK의 특징

- 유일함 (Unique)
- Null 값이 들어갈 수 없음
- 한 테이블에 하나만 존재

---

## 🔗 2. FK (Foreign Key, 외래 키)

**FK는 다른 테이블의 PK를 참조하는 열이야.**  
이걸 통해 **두 테이블 간의 관계를 맺어줘.**

### ✅ 예를 들어보자

```sql
수강 테이블(Enrollment)
-------------------------------------
| 수강번호(EnrollID) | 학번(StudentID) | 과목명(Course) |
|--------------------|----------------|----------------|
| 1                  | 1001           | 수학           |
| 2                  | 1002           | 과학           |
| 3                  | 1001           | 영어           |
```

`수강 테이블`의 `학번(StudentID)`은 `학생 테이블`의 `학번(StudentID)`을 참조해.  
이럴 때 `수강 테이블`의 `학번(StudentID)`이 **FK(외래 키)**가 되는 거야.

이걸 통해 "이 수강 내역은 어떤 학생의 것인가?"를 연결해서 알 수 있게 돼.

### 📌 FK의 특징

- 다른 테이블의 PK를 참조
- 관계형 데이터베이스의 핵심
- 데이터 무결성을 유지시켜 줌

---

## 🧹 3. 정규화 (Normalization)

정규화는 **데이터를 잘게 나눠서 중복을 줄이고, 데이터의 일관성을 유지하는 과정**이야.

간단히 말하면:

> "테이블을 PK와 FK를 중심으로 잘게 나누고, 중복 데이터를 제거해서 효율적으로 설계하는 것"

---

## 🎓 학생/수강 예시로 정규화를 이해해보자

처음에 아무 생각 없이 데이터를 이렇게 저장했다고 해보자:

```sql
학생수강정보 테이블 (비정규화된 상태)
------------------------------------------
| 학번 | 이름 | 과목1 | 과목2 | 과목3 |
|------|------|--------|--------|--------|
| 1001 | 철수 | 수학   | 과학   | 영어   |
| 1002 | 영희 | 수학   | null   | null   |
```

이런 테이블은 문제가 많아:

- 과목 수가 다르면 null이 많아짐
- 새로운 과목이 추가되면 테이블 구조를 바꿔야 함
- 과목 정보가 중복되고, 관리가 어려움

### ✅ 그래서 정규화 진행!

#### ▶ 제1정규형 (1NF): 컬럼 안에 반복 그룹 제거
→ 과목을 따로 분리해서 각 행마다 하나의 과목만 저장

```sql
| 학번 | 이름 | 과목   |
|------|------|--------|
| 1001 | 철수 | 수학   |
| 1001 | 철수 | 과학   |
| 1001 | 철수 | 영어   |
| 1002 | 영희 | 수학   |
```

하지만 여기서도 이름이 계속 반복돼. 중복이 많아.

#### ▶ 제2정규형 (2NF): 부분 종속 제거 → 중복 제거를 위해 테이블 분리

- 학생 테이블(Student)

```sql
| 학번 | 이름 |
|------|------|
| 1001 | 철수 |
| 1002 | 영희 |
```

- 수강 테이블(Enrollment)

```sql
| 학번 | 과목   |
|------|--------|
| 1001 | 수학   |
| 1001 | 과학   |
| 1001 | 영어   |
| 1002 | 수학   |
```

이제 `학생 테이블`과 `수강 테이블`을 FK로 연결하면 돼.

#### ▶ 제3정규형 (3NF): 이행적 종속 제거
→ 예를 들어 "과목명 → 교수명"처럼, 과목에 따라 달라지는 속성은 따로 빼야 해.

- 과목 테이블(Course)

```sql
| 과목ID | 과목명 | 교수명 |
|--------|--------|--------|
| 101    | 수학   | 김교수 |
| 102    | 과학   | 이교수 |
| 103    | 영어   | 박교수 |
```

이제 수강 테이블은 이렇게 바뀔 수 있어:

```sql
| 학번 | 과목ID |
|------|--------|
| 1001 | 101    |
| 1001 | 102    |
| 1001 | 103    |
| 1002 | 101    |
```

이렇게 하면 과목 정보가 중복되지 않고, 바꾸기도 쉬워져.

---

## 🔄 PK와 FK, 정규화의 관계 요약

| 개념       | 설명                                                                 |
|------------|----------------------------------------------------------------------|
| PK         | 한 테이블에서 각 행을 유일하게 식별하는 키                           |
| FK         | 다른 테이블의 PK를 참조하여 두 테이블을 연결                         |
| 정규화     | 중복 제거와 데이터 일관성을 위해 테이블을 PK와 FK 중심으로 분할        |

→ **정규화를 통해 PK와 FK의 구조가 자연스럽게 형성되고, 이 구조 덕분에 테이블 간의 관계가 명확해진다.**

---

## 📦 실무에서 PK, FK, 정규화가 중요한 이유

1. **데이터 무결성 보장**
   - 존재하지 않는 학생의 수강 기록이 생기는 것을 방지
   - 삭제/수정 시 연쇄적으로 잘 작동하게 FK 제약조건 설정

2. **유지보수 쉬움**
   - 과목명을 바꿀 때, 한 군데만 수정하면 반영됨
   - 데이터 중복 줄어들고 저장공간 절약

3. **확장성 향상**
   - 새로운 과목 추가, 교수 정보 추가 등 유연하게 구조를 바꿀 수 있음

---

## 👩‍🏫 초보자에게 추천하는 연습 방법

1. 학생-수강 구조로 **ERD 다이어그램 그려보기**
2. 실제로 CREATE TABLE로 테이블 나눠서 PK/FK 설정해보기
3. INSERT로 데이터 넣고 SELECT, JOIN으로 연결된 결과 조회해보기

---

## 🧠 마무리 요약

- **PK는 유일한 식별자**이고, **FK는 관계를 맺는 연결선**이야.
- **정규화는 데이터를 효율적으로 설계하기 위한 과정**이고, 그 과정 속에서 PK와 FK가 자연스럽게 생겨나.
- 이 세 개념은 **함께 묶여서 관계형 데이터베이스의 핵심**을 이룬다고 보면 돼.

---

필요하다면 이 개념을 바탕으로 SQL로 `CREATE TABLE`, `INSERT`, `SELECT JOIN` 등 실습 예제도 만들어줄게! 원해? 😄